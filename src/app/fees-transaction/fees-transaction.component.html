<app-authorised-top-nav></app-authorised-top-nav>

<div class="row">
  <div class="col-md-2">
    <app-authorised-side-nav></app-authorised-side-nav>
  </div>

  <html>

  <body>
    <form [formGroup]="registerFeesTransaction" (ngSubmit)="createStudentCourse()">
      <h4>Fees Transaction</h4>
      <div class="row">
        <div class="col-md-6">

          <table>
            <tbody>

              <tr>
                <td colspan="1">
                  <label for="CourseType">Course Type</label>
                  <div class="row">
                    <div class="col">
                      <select class="form-control" formControlName="CourseType"
                        [ngClass]="{ 'is-invalid': submitFeesTransaction && g.CourseType.errors }"
                        (change)="selectUser($event);getCourseNameFromCourseType()">
                        <option *ngFor="let course of FeesTransactionService.listCourseType"
                          [value]="course.CourseTypeId">
                          {{course.CourseTypeName}}
                        </option>
                      </select>
                      <div *ngIf="submitFeesTransaction && g.CourseType.errors" class="invalid-feedback">
                        <div *ngIf="g.CourseType.errors.required">Course Type is required</div>
                      </div>
                    </div>

                  </div>
                </td>
              </tr>
              <tr>
                <td colspan="1"><label for="CourseName">Course Name</label>
                  <div class="form-group">
                    <select class="form-control" formControlName="CourseName"
                      [ngClass]="{ 'is-invalid': submitFeesTransaction && g.CourseName.errors }"
                      (change)="selectFees($event);getCourseFeesFromCourseName();getStudentListFromCourseName()">
                      <option *ngFor="let course of FeesTransactionService.listCourses" [value]="course.CourseId">
                        {{course.CourseName}}</option>

                    </select>
                    <div *ngIf="submitFeesTransaction && g.CourseName.errors" class="invalid-feedback">
                      <div *ngIf="g.CourseName.errors.required">Course Name is required</div>
                    </div>
                  </div>
                </td>
              </tr>

              <tr>
                <td colspan="1">
                  <label for="StudentID">Course Fees</label>
                  <div class="form-group">
                    <select class="form-control" formControlName="CourseFees"
                      [ngClass]="{ 'is-invalid': submitFeesTransaction && g.CourseFees.errors }">
                      <option *ngFor="let course of FeesTransactionService.listCourseFees" [value]="course.Fees">
                        {{course.Fees}}
                      </option>
                    </select>
                    <div *ngIf="submitFeesTransaction && g.CourseFees.errors" class="invalid-feedback">
                      <div *ngIf="g.CourseFees.errors.required">Course Fees Required</div>
                    </div>
                  </div>
                </td>
              </tr>

              <tr>
                <td colspan="1">
                  <label for="StudentID">Student Name</label>
                  <div class="form-group">
                    <select class="form-control" formControlName="StudentID"
                      [ngClass]="{ 'is-invalid': submitFeesTransaction && g.StudentID.errors }">
                      <option *ngFor="let student of FeesTransactionService.listStudents" [value]=" student.StudentId">
                        {{student.FullName}}
                      </option>
                    </select>
                    <div *ngIf="submitFeesTransaction && g.StudentID.errors" class="invalid-feedback">
                      <div *ngIf="g.StudentID.errors.required">Student Name Required</div>
                    </div>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="col-md-6">
          <table>
            <tbody>
              <tr>
                <td colspan="1">
                  <label for="FeesAmount">Fees Amount Paying?</label>
                  <div class="form-group">
                    <input type="number" class="form-control" id="FeesAmount" formControlName="FeesAmount"
                      [ngClass]="{ 'is-invalid': submitFeesTransaction && g.FeesAmount.errors }">
                    <div *ngIf="submitFeesTransaction && g.FeesAmount.errors" class="invalid-feedback">
                      <div *ngIf="g.FeesAmount.errors.required">Fees Amount is required</div>
                    </div>
                  </div>
                </td>
              </tr>


              <tr>
                <td colspan="1">
                  <label for="DateofPayment">Date of Payment</label>
                  <div class="form-group">
                    <input type="date" id="birthDate" class="form-control" placeholder="Date of Payment"
                      formControlName="DateofPayment"
                      [ngClass]="{ 'is-invalid': submitFeesTransaction && g.DateofPayment.errors }">
                    <div *ngIf="submitFeesTransaction && g.DateofPayment.errors" class="invalid-feedback">
                      <div *ngIf="g.DateofPayment.errors.required">Date of Payment is required</div>
                    </div>
                  </div>
                </td>
              </tr>


              <tr>
                <td colspan="1">
                  <label for="FeesTakenby">Fees Taken By</label>
                  <div class="form-group">
                    <select class="form-control" formControlName="FeesTakenBy"
                      [ngClass]="{ 'is-invalid': submitFeesTransaction && g.FeesTakenBy.errors }">
                      <option *ngFor="let user of FeesTransactionService.listUsers" [value]="user.Id">
                        {{user.FirstName}} {{user.LastName}}
                      </option>

                    </select>
                    <div *ngIf="submitFeesTransaction && g.FeesTakenBy.errors" class="invalid-feedback">
                      <div *ngIf="g.FeesTakenBy.errors.required">Fees Taken by is required</div>
                    </div>
                  </div>
                </td>
              </tr>

              <tr>
                <td colspan="1">
                  <div class="form-group">
                    <label for="FeesTakenby"></label>
                    <div class="form-row">
                      <button name="button1id" class="btn btn-success" id="SubmitFees">Save</button>
                      &nbsp;
                    </div>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </form>
  </body>

  </html>
</div>