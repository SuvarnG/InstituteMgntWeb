
       <!-- Breadcrumb-->
  <ol class="breadcrumb">
      <li class="breadcrumb-item"><a routerLink="/Dashboard">Home</a></li>
      <li class="breadcrumb-item">Student</li>
      
      <!-- Breadcrumb Menu-->
      <li class="breadcrumb-menu d-md-down-none">
        <div class="btn-group" role="group" aria-label="Button group">
          
            <button class="btn btn-primary" type="button">
                <i class="fa fa-search text-white"></i></button>

            <input type="text" placeholder="Search" class="form-control" [(ngModel)]="filter">
            &nbsp;&nbsp;
            <a routerLink="/CreateStudent" class="btn btn-primary font-weight-medium px-3 py-2  rounded-0 f-20 ml-1 pull-right text-white" data-toggle="tooltip" data-placement="bottom"
            title="Add Staff" > Add     
          </a>
        </div>
      </li>
    </ol>

    <div class="row my-4 px-3 pb-3">
        <div class="col-sm-4 col-md-4 col-xl-4 col-lg-4" *ngFor="let s of students | filter:filter | paginate: { itemsPerPage: 6, currentPage: p }">

            <div class="card">
                <div class="card-header h5">{{s.FullName | titlecase}}
                  <div class="card-header-actions">
                    <a class="card-header-action btn-setting" (click)="openStudentDetailsPopup(StudentDetails, s)" title="Student Details">
                      <i class="cui-info"></i>
                    </a>
                    <a class="card-header-action btn-minimize" (click)="openEditStudentPopup(editStudent, s)" title="Edit Information">
                      <i class="cui-pencil"></i>
                    </a>
                    <a class="card-header-action btn-close" (click)="deleteStudent(s.StudentId)" title="Delete Student">
                      <i class="cui-trash"></i>
                    </a>
                  </div>
                </div>
                <div class="collapse show" id="collapseExample">
                  <div class="card-body">
                      <div class="row">
                      <div class="col-sm-3">
                          <img src="{{s.Photo}}" class="img-circle" width="80" height="80">
                        </div>
                        <div class="col-sm-9">

                          <div class="row ">
                            <div class="col-sm-12 ">
                              <p class="card-title"><i class="icon-book-open"></i> {{s.Course}}</p>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-sm-12  ">
                              <p class="card-title"><i class="font-md cui-phone"></i> {{s.ContactNo}}</p>
                            </div>
                          </div>
                          <div class="row">
                              <div class="col-sm-12  ">
                                <p class="card-title"><i class="font-md cui-envelope-closed"></i> {{s.EmailId}}</p>
                              </div>
                            </div>
                        </div>
                      </div>
                  </div>
                </div>
              </div>

        <!-- <div class="card shadow  pb-0 bg-white rounded-0" style="width: 22rem;">
          <div class="card-body  pb-0">
            <div class="row border-bottom">
              <div class="col-sm-3">
                <img src="{{s.Photo}}" class="img-circle" width="80" height="80">
              </div>
              <div class="col-sm-9">
                <div class="row ">
                  <div class="col-sm-12 ">
                    <h5 class="card-title mb-1">{{s.FullName | titlecase}}</h5>
                  </div>
                </div>
                <div class="row ">
                  <div class="col-sm-12  ">
                    <p class="card-title mb-1">{{s.Course}}</p>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-12  ">
                    <p class="card-title">{{s.ContactNo}}</p>
                  </div>
                </div>
              </div>

            </div>

            <div class="row justify-content-center text-center mb-0 pb-0">
              <div class="col-md-4 mt-3">

                  <div class="icon-sm" (click)="openStudentDetailsPopup(StudentDetails, s)"
                  data-toggle="tooltip" data-placement="bottom" title="View Student">
                  <svg class="icon" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512"
                    style="enable-background:new 0 0 512 512;" xml:space="preserve" width="40px">
                    <g>
                      <g>
                        <path d="M508.177,245.995C503.607,240.897,393.682,121,256,121S8.394,240.897,3.823,245.995c-5.098,5.698-5.098,14.312,0,20.01
                       C8.394,271.103,118.32,391,256,391s247.606-119.897,252.177-124.995C513.274,260.307,513.274,251.693,508.177,245.995z M256,361
                       c-57.891,0-105-47.109-105-105s47.109-105,105-105s105,47.109,105,105S313.891,361,256,361z" />
                      </g>
                    </g>
                    <g>
                      <g>
                        <path
                          d="M271,226c0-15.09,7.491-28.365,18.887-36.53C279.661,184.235,268.255,181,256,181c-41.353,0-75,33.647-75,75
                       c0,41.353,33.647,75,75,75c37.024,0,67.668-27.034,73.722-62.358C299.516,278.367,271,255.522,271,226z" />
                      </g>
                    </g>
                  </svg>
                </div>


              </div>
              <div class="col-md-4 mt-4">
                 
                <div class="icon-sm" (click)="openEditStudentPopup(editStudent, s)" data-toggle="tooltip"
                  data-placement="bottom" title="Edit Student">
                  <svg class="icon" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 383.947 383.947"
                    style="enable-background:new 0 0 383.947 383.947;" xml:space="preserve" width="25px">
                    <g>
                      <g>
                        <g>
                          <polygon points="0,303.947 0,383.947 80,383.947 316.053,147.893 236.053,67.893 			" />
                          <path d="M377.707,56.053L327.893,6.24c-8.32-8.32-21.867-8.32-30.187,0l-39.04,39.04l80,80l39.04-39.04
      C386.027,77.92,386.027,64.373,377.707,56.053z" />
                        </g>
                      </g>
                    </g>
                  </svg>
                </div>
                &nbsp;
              </div>
              <div class="col-md-4 mt-4">

                <div class="icon-sm" (click)="deleteStudent(s.StudentId)"  data-toggle="tooltip"
                  data-placement="bottom" title="Delete Student">
                  <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="25" height="30"
                    viewBox="0 0 24 24">
                    <path
                      d="M3 6v18h18v-18h-18zm5 14c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4-18v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712z" />
                  </svg>
                </div>
              </div>
            </div>
          </div>
        </div> -->


      </div>
    </div>

<p *ngIf="students && students.length==0">No records found.</p>

    <ul class="pagination" *ngIf="students && students.length>6">
      <pagination-controls (pageChange)="p = $event"></pagination-controls>
    </ul>

<ng-template #editStudent role="modal-dialog modal-xl">
  <div data-keyboard="false" data-backdrop="static" aria-hidden="true">
    <form [formGroup]="registerUpdateStudent" (ngSubmit)="onSubmitEditStudent()">
      <div class="modal-header">
        <h5 class="modal-title pull-left ">Update Student</h5>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          <div class="container-fluid">
        <div class="form-group">
          <div class="form-row">
            <h5>Personal Details</h5>
          </div>
          <label for="StudentName">Student Name</label>
          <div class="row">
            <div class="col-md-4">
              <input type="text" class="form-control" formControlName="FirstName" placeholder="First Name"
                [ngClass]="{'is-invalid': submitted && f.FirstName.errors} ">
              <div *ngIf="submitted && f.FirstName.errors" class="invalid-feedback">
                <div *ngIf="f.FirstName.errors.required">First Name is required</div>
              </div>
            </div>
            <div class="col-md-4">
              <input class="form-control" formControlName="MiddleName" type="text" placeholder="Middle Name"
                [ngClass]="{'is-invalid': submitted && f.MiddleName.errors} ">
              <div *ngIf="submitted && f.MiddleName.errors" class="invalid-feedback">
                <div *ngIf="f.MiddleName.errors.required">Middle Name is required</div>
              </div>
            </div>
            <div class="col-md-4">
              <input class="form-control" formControlName="LastName" type="text" placeholder="Last Name"
                [ngClass]="{'is-invalid': submitted && f.LastName.errors} ">
              <div *ngIf="submitted && f.LastName.errors" class="invalid-feedback">
                <div *ngIf="f.LastName.errors.required">Last Name is required</div>
              </div>
            </div>
          </div>
        </div>

         <div class="form-group">
          <div class="row">
            <div class="col-md-4">
              <label for="Gender">Gender</label>
              <div class="row">
                <div class="col-md-12">
                  <input type="radio" name="Gender" formControlName="Gender" value="Male"
                    [ngClass]="{'is-invalid': submitted && f.Gender.errors} "> Male
                  <input type="radio" class="ml-3" name="Gender" formControlName="Gender" value="Female"
                    [ngClass]="{'is-invalid': submitted && f.Gender.errors} "> Female
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <label for="DateOfBirth">Date Of Birth</label>
              <input type="date" id="DOB" class="form-control" formControlName="DOB"
                [ngClass]="{'is-invalid': submitted && f.DOB.errors} ">
              <div *ngIf="submitted && f.DOB.errors" class="invalid-feedback">
                <div *ngIf="f.DOB.errors.required">CoDateOfBirthntact No is required</div>
              </div>
            </div>

            <div class="col-md-4">
              <label for="BloodGroup">Blood Group</label>
              <select id="BloodGroup" class="form-control" formControlName="BloodGroup"
                [ngClass]="{'is-invalid': submitted && f.BloodGroup.errors} ">
                <option>A+</option>
                <option>B+</option>
                <option>AB+</option>
                <option>O+</option>
                <option>A-</option>
                <option>B-</option>
                <option>O-</option>
                <option>AB-</option>
              </select>
              <div *ngIf="submitted && f.BloodGroup.errors" class="invalid-feedback">
                <div *ngIf="f.BloodGroup.errors.required">BloodGroup No is required</div>
              </div>
            </div>
          </div>
        </div>

        <hr>

        

        <div class="form-group">
          <div class="form-row">
            <h5>Contact Information</h5>
          </div>
          <div class="row">
            <div class="col-md-4">
              <label for="ContactNo">Contact Number</label>
              <input type="number" id="ContactNo" formControlName="ContactNo" placeholder="Contact Number"
                class="form-control" [ngClass]="{ 'is-invalid': submitted && f.ContactNo.errors }">
              <div *ngIf="submitted && f.ContactNo.errors" class="invalid-feedback">
                <div *ngIf="f.ContactNo.errors.required">Contact Number is required</div>
              </div>
            </div>

            <div class="col-md-4">
              <label for="EmergencyNo">Emergency No</label>
              <input type="number" id="EmergencyNo" formControlName="EmergencyNo" placeholder="Emergency Contact No"
                class="form-control" [ngClass]="{ 'is-invalid': submitted && f.EmergencyNo.errors }">
              <div *ngIf="submitted && f.EmergencyNo.errors" class="invalid-feedback">
                <div *ngIf="f.EmergencyNo.errors.required">Emergency Contact No is required</div>
              </div>
            </div>

            <div class="col-md-4">
              <label for="EmailID">Email ID</label>
              <input type="email" class="form-control" id="Email" formControlName="Email"
                [ngClass]="{'is-invalid': submitted && f.Email.errors} ">
              <div *ngIf="submitted && f.Email.errors" class="invalid-feedback">
                <div *ngIf="f.Email.errors.required">Email is required</div>
              </div>
            </div>
          </div>
        </div>

        <hr>

       

        <div class="form-group">
          <div class="form-row">
            <h5>Current Address</h5>
          </div>
          <div class="row">
            <div class="col-md-4">
              <label for="Address1">Address</label>
              <input type="text" class="form-control" id="Address1" formControlName="Address1"
                [ngClass]="{ 'is-invalid': submitted && f.Address1.errors }">
              <div *ngIf="submitted && f.Address1.errors" class="invalid-feedback">
                <div *ngIf="f.Address1.errors.required">Address is required</div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-4">
              <label for="State">State</label>
              <select id="State" class="form-control" formControlName="State"
                [ngClass]="{ 'is-invalid': submitted && f.State.errors }">
                <option>Maharashtra</option>
              </select>
              <div *ngIf="submitted && f.State.errors" class="invalid-feedback">
                <div *ngIf="f.State.errors.required"> Please provide a valid state.</div>
              </div>
            </div>

            <div class="col-md-4">
              <label for="City">City</label>
              <input type="text" class="form-control" id="City" formControlName="City"
                [ngClass]="{ 'is-invalid': submitted && f.City.errors }">
              <div *ngIf="submitted && f.City.errors" class="invalid-feedback">
                <div *ngIf="f.City.errors.required"> Please provide a valid city.</div>
              </div>
            </div>

             

            <div class="col-md-4">
              <label for="ZipCode">Zip Code</label>
              <input type="number" class="form-control" id="ZipCode" formControlName="ZipCode"
                [ngClass]="{ 'is-invalid': submitted && f.ZipCode.errors }">
              <div *ngIf="submitted && f.ZipCode.errors" class="invalid-feedback">
                <div *ngIf="f.ZipCode.errors.required"> Zip Code is required.</div>
              </div>
            </div>

          </div>
        </div>

        <hr>

         

        <div class="form-group">
          <div class="form-row">
            <h5>Permanent Address</h5>
          </div>
          <div class="row">
            <div class="col-md-4">
              <label for="PAddress1">Address</label>
              <input type="text" class="form-control" id="PAddress1" formControlName="PAddress1"
                [ngClass]="{'is-invalid': submitted && f.PAddress1.errors} ">
              <div *ngIf="submitted && f.PAddress1.errors" class="invalid-feedback">
                <div *ngIf="f.PAddress1.errors.required">Address is required</div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-4">
              <label for="PState">State</label>
              <select id="PState" class="form-control" formControlName="PState"
                [ngClass]="{'is-invalid': submitted && f.PState.errors} ">
                <option selected>Select State</option>
                <option>Maharashtra</option>
              </select>
              <div *ngIf="submitted && f.PState.errors" class="invalid-feedback">
                <div *ngIf="f.PState.errors.required">State is required</div>
              </div>
            </div>

            <div class="col-md-4">
              <label for="PCity">City</label>
              <input type="text" class="form-control" id="PCity" formControlName="PCity"
                [ngClass]="{'is-invalid': submitted && f.PCity.errors} ">
              <div *ngIf="submitted && f.PCity.errors" class="invalid-feedback">
                <div *ngIf="f.PCity.errors.required">City is required</div>
              </div>
            </div>

            <div class="col-md-4">
              <label for="PSTDCode">Zip Code</label>
              <input type="number" class="form-control" id="PSTDCode" formControlName="PSTDCode"
                [ngClass]="{'is-invalid': submitted && f.PSTDCode.errors} ">
              <div *ngIf="submitted && f.PSTDCode.errors" class="invalid-feedback">
                <div *ngIf="f.PSTDCode.errors.required">PinCode is required</div>
              </div>
            </div>

          </div>
        </div>


        <hr>


        <div class="form-group">
          <div class="form-row">
            <h5>Course Details</h5>
          </div>
          <div class="row">
            <div class="col-md-4">
              <label for="CourseType">Course Type</label>
              <select id="CourseType" class="form-control" formControlName="CourseType" name="CourseType"
                (change)="selectCourseType($event)" [value]="f.CourseType.value">
                <option *ngFor="let courseType of  CourseTypeList" [value]="courseType.CourseTypeId">
                  {{courseType.CourseTypeName}}
                </option>
              </select>
              <div *ngIf="submitted && f.CourseType.errors" class="invalid-feedback">
                <div *ngIf="f.CourseType.errors.required"> Please provide a valid CourseType.</div>
              </div>
            </div>

            <div class="col-md-4">
              <label for="Course">Course Name</label>
              <select id="Course" class="form-control" formControlName="Course" name="Course" [value]="f.Course.value">
                <option *ngFor="let courselist of courseNameList" [value]="courselist.CourseId">
                  {{courselist.CourseName}}</option>
              </select>
              <div *ngIf="submitted && f.Course.errors" class="invalid-feedback">
                <div *ngIf="f.Course.errors.required"> Please provide a valid Course.</div>
              </div>
            </div>

          </div>
        </div>


        <hr>

        <div class="form-group">
          <h5>New Image Upload</h5>
          <img [src]="thumbnailUrl" width="100" height="100">
          &nbsp;
          <input type="file" (change)="onImageSelected($event);onUploadPhoto()" id="Photo">
          <input type="hidden" name="fileHidden" formControlName="Photo" />
        </div>

      </div>
      </div>

      <div class="modal-footer">
        <button class="btn btn-primary btn-square ml-2" type="submit">Update</button>
        <button class="btn btn-danger btn-square ml-2" type="button"
          (click)="modalRef.hide()">Close</button>
      </div>
    </form>
  </div>
</ng-template>






<ng-template #StudentDetails role="modal-dialog modal-xl">
    <div data-keyboard="false" data-backdrop="static" aria-hidden="true">
      <form [formGroup]="registerUpdateStudent" (ngSubmit)="onSubmitEditStudent()">
        <div class="modal-header">
          <h5 class="modal-title pull-left ">Student Details</h5>
          <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <div class="container-fluid">
          <div class="form-group">
            <div class="form-row">
              <h5>Personal Details</h5>
            </div>
            <div class="row">
              <div class="col-md-6">
            <label for="StudentName">Name:</label>
            {{f.FirstName.value}} {{f.MiddleName.value}} {{f.LastName.value}}
          </div>
          <div class="col-md-6">
              <label for="Gender">Gender:</label>
              {{f.Gender.value}}
          </div>
          </div>
          
  
          
            <div class="row">
              <div class="col-md-6">
                <label for="DateOfBirth">Date Of Birth:</label>
                {{f.DOB.value}}
              </div>
  
              <div class="col-md-6">
                <label for="BloodGroup">Blood Group:</label>
                {{f.BloodGroup.value}}
              </div>
            </div>
          </div>
        
  
          <hr>
  
          <div class="form-group">
            <div class="form-row">
              <h5>Contact Information</h5>
            </div>
            <div class="row">
              <div class="col-md-6">
                <label for="ContactNo">Contact Number:</label>
                  {{f.ContactNo.value}}
              </div>
  
              <div class="col-md-6">
                <label for="EmergencyNo">Emergency No:</label>
                  {{f.EmergencyNo.value}}
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <label for="EmailID">Email ID :</label>
                {{f.Email.value}}
              </div>
            </div>
            </div>
         
  
          <hr>
   
          <div class="form-group">
            <div class="form-row">
              <h5>Current Address</h5>
            </div>
            <div class="row">
              <div class="col-md-6">
                <label for="Address1">Address:</label>
                  {{f.Address1.value}}
              </div>

              <div class="col-md-6">
                  <label for="City">City:</label>
                    {{f.City.value}}
                </div>
            </div>
  
            <div class="row">
              <div class="col-md-6">
                <label for="State">State:</label>
                  {{f.State.value}}
              </div>           
  
              <div class="col-md-6">
                <label for="ZipCode">Zip Code:</label>
                {{f.ZipCode.value}}
              </div>
  
            </div>
          </div>
  
          <hr>
  
          <div class="form-group">
            <div class="form-row">
              <h5>Permanent Address</h5>
            </div>
            <div class="row">
              <div class="col-md-6">
                <label for="PAddress1">Address:</label>
                {{f.PAddress1.value}}
              </div>

              <div class="col-md-6">
                  <label for="PCity">City:</label>
                    {{f.PCity.value}}
                </div>

            </div>
  
            <div class="row">
              <div class="col-md-6">
                <label for="PState">State:</label>
                  {{f.PState.value}}
              </div>
    
              <div class="col-md-6">
                <label for="PSTDCode">Zip Code:</label>
                {{f.PSTDCode.value}}
              </div>
  
            </div>
          </div>
  
  
          <hr>
  
  
          <div class="form-group">
            <div class="form-row">
              <h5>Course Details</h5>
            </div>
            <div class="row">
              <div class="col-md-6">
                <label for="CourseType">Course Type :</label>
                {{f.CourseType.value}}
              </div>
  
              <div class="col-md-6">
                <label for="Course">Course Name :</label>
                  {{f.Course.value}}
              </div>
  
            </div>
          </div>

          <div class="modal-footer">
              <button class="btn btn-danger btn-square ml-2" type="button"
            (click)="modalRef.hide()">Close</button>
          </div>
          </div>
        </div>

      </form>
    </div>
  </ng-template>
  

