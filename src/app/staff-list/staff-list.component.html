<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

<!-- Add top navigation componant -->
<app-authorised-top-nav></app-authorised-top-nav>

<div class="row">
  <div class="col-md-2">
  <!-- Add left navigation componant -->
  <app-authorised-side-nav></app-authorised-side-nav>
</div>

<div class="col-md-10">
      <a href="/TeacherCourses" class="btn btn-success pull-right" (click)="AddNewStaff()" data-toggle="tooltip" data-placement="bottom" title="Add Staff">
        <span class="fa fa-plus-square" aria-hidden="true"></span></a>
           
      <table border="1px" class="table table-striped ">
        <thead>
          <tr>
            <th>
              Staff Name
            </th>
            <th>
              Joining Date
            </th>
            <th>
              Contact
            </th>
            <th>
              Email
            </th>
            <th>
              Date of Leaving
            </th>
            <th>
              Leaving Reason
            </th>
            <th class="text-center" colspan="2"> </th>
          </tr>
        </thead>

        <tr *ngFor="let t of staffMaster">
          <td><button type="btn" class="btn  btn-link"
              (click)="GetCourses(ShowCourses,t.StaffId)"><span>{{t.Name}}</span></button></td>
          <td>{{t.DateOfJoining | date:'mediumDate'}}</td>
          <td>{{t.ContactNo}}</td>
          <td>{{t.Email}}</td>
          <td>{{t.DateOfLeaving | date:'mediumDate'}}</td>
          <td>{{t.LeavingReason}}</td>
          <td>
             <button type="btn" class='btn btn-success' (click)="Edit(editStaff,t)" data-toggle="tooltip" data-placement="bottom" title="Edit Staff">
               <span class="fa fa-pencil-square-o" aria-hidden="true"></span></button>
          <td> <button type="btn" class="btn btn-danger" (click)="Delete(t.StaffId)" data-toggle="tooltip" data-placement="bottom" title="Delete Staff">
            <span class="fa fa-times" aria-hidden="true"></span></button>
          </td>
        </tr>
      </table>
</div>
</div>
<ng-template #editStaff>
  <div data-keyboard="false" data-backdrop="static" aria-hidden="true">
    <form [formGroup]="staffForm" (ngSubmit)="onSubmitEditStaff()">
      <div class="modal-header">
        <h4 class="modal-title pull-left">Update Staff</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <table class="table">
          <tr>
            <td colspan="1">
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label for="Gender">Gender</label>
                </div>
                <div class="form-group col-md-6">
                  <input type="text" class="form-control" formControlName="Gender"
                    [ngClass]="{'is-invalid': submitted && f.Gender.errors} ">

                </div>
                <div *ngIf="submitted && f.Gender.errors" class="invalid-feedback">
                  <div *ngIf="f.Gender.errors.required">Gender is required</div>
                </div>
              </div>
            </td>
          </tr>

          <tr>
            <td colspan="1">
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label for="firstName">Firstname</label>
                </div>
                <div class="form-group col-md-6">
                  <input type="text" class="form-control" formControlName="FirstName"
                    [ngClass]="{'is-invalid': submitted && f.FirstName.errors} ">
                </div>
                <div *ngIf="submitted && f.FirstName.errors" class="invalid-feedback">
                  <div *ngIf="f.FirstName.errors.required">First Name is required</div>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group col-md-6">
                  <label for="middleName">Middlename</label>
                </div>
                <div class="form-group col-md-6">
                  <input type="text" class="form-control" formControlName="MiddleName"
                    [ngClass]="{'is-invalid': submitted && f.MiddleName.errors} ">
                </div>
                <div *ngIf="submitted && f.MiddleName.errors" class="invalid-feedback">
                  <div *ngIf="f.MiddleName.errors.required">Middle Name is required</div>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label for="lastName">Lastname</label>
                </div>
                <div class="form-group col-md-6">
                  <input type="text" class="form-control" formControlName="LastName"
                    [ngClass]="{'is-invalid': submitted && f.LastName.errors} ">
                </div>
                <div *ngIf="submitted && f.LastName.errors" class="invalid-feedback">
                  <div *ngIf="f.LastName.errors.required">Last Name is required</div>
                </div>
              </div>
            </td>
          </tr>
          <tr>
            <td colspan="1">
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label class="col-md-6 control-label">DateOfBirth</label>
                  <input type="date" id="DOB" class="form-control" formControlName="DOB"
                    [ngClass]="{'is-invalid': submitted && f.DOB.errors} ">

                  <div *ngIf="submitted && f.DOB.errors" class="invalid-feedback">
                    <div *ngIf="f.DOB.errors.required">CoDateOfBirthntact No is required</div>
                  </div>
                </div>
                <div class="form-group col-md-6">
                  <label for="BloodGroup">Blood Group</label>
                  <select id="BloodGroup" class="form-control" formControlName="BloodGroup"
                    [ngClass]="{'is-invalid': submitted && f.BloodGroup.errors} ">
                    <option>A+</option>
                    <option>B+</option>
                    <option>AB+</option>
                    <option>O+</option>
                    <option>A-</option>
                    <option>B-</option>
                    <option>O-</option>
                    <option>AB-</option>
                  </select>
                </div>
                <div *ngIf="submitted && f.BloodGroup.errors" class="invalid-feedback">
                  <div *ngIf="f.BloodGroup.errors.required">BloodGroup No is required</div>
                </div>
              </div>
            </td>
          </tr>
          <tr>
            <td colspan="1">
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label class="col-md-6 control-label">ContactNo</label>
                  <input type="number" id="ContactNo" formControlName="ContactNo" placeholder="Contact No"
                    class="form-control" [ngClass]="{ 'is-invalid': submitted && f.ContactNo.errors }">
                  <div *ngIf="submitted && f.ContactNo.errors" class="invalid-feedback">
                    <div *ngIf="f.ContactNo.errors.required">Contact No is required</div>
                  </div>
                </div>

                <div class="form-group col-md-6">
                  <label class="col-md-6 control-label">EmergencyNo</label>
                  <input type="number" id="EmergencyNo" formControlName="EmergencyNo" placeholder="Emergency Contact No"
                    class="form-control" [ngClass]="{ 'is-invalid': submitted && f.EmergencyNo.errors }">
                  <div *ngIf="submitted && f.EmergencyNo.errors" class="invalid-feedback">
                    <div *ngIf="f.EmergencyNo.errors.required">Emergency Contact No is required</div>
                  </div>
                </div>
              </div>
            </td>
          </tr>
          <tr>
            <td colspan="1">
              <div class="form-row">
                <div class="form-group col-md-2">
                  <label for="inputAddress">Address</label>
                </div>
                <div class="form-group col-md-10">
                  <input type="text" class="form-control" id="Address1" placeholder="Address 1"
                    formControlName="Address1" [ngClass]="{ 'is-invalid': submitted && f.Address1.errors }">
                  <div *ngIf="submitted && f.Address1.errors" class="invalid-feedback">
                    <div *ngIf="f.Address1.errors.required">Address is required</div>
                  </div>

                  <input type="text" class="form-control" id="Address2" formControlName="Address2"
                    placeholder="Address 2" [ngClass]="{ 'is-invalid': submitted && f.Address2.errors }">
                  <div *ngIf="submitted && f.Address2.errors" class="invalid-feedback">
                    <div *ngIf="f.Address2.errors.required">Address is required</div>
                  </div>
                </div>
              </div>
            </td>
          </tr>
          <tr>
            <td colspan="1">
              <div class="form-row">
                <div class="form-group col-md-4">
                  <label class="col-md-4 control-label">City</label>
                  <input type="text" class="form-control" id="City" formControlName="City"
                    [ngClass]="{ 'is-invalid': submitted && f.City.errors }">
                  <div *ngIf="submitted && f.City.errors" class="invalid-feedback">
                    <div *ngIf="f.City.errors.required"> Please provide a valid city.</div>
                  </div>
                </div>

                <div class="form-group col-md-4">
                  <label class="col-md-4 control-label">State</label>
                  <select id="State" class="form-control" formControlName="State"
                    [ngClass]="{ 'is-invalid': submitted && f.State.errors }">
                    <option>Maharashtra</option>
                  </select>
                  <div *ngIf="submitted && f.State.errors" class="invalid-feedback">
                    <div *ngIf="f.State.errors.required"> Please provide a valid state.</div>
                  </div>
                </div>
                <div class="form-group col-md-4">
                  <label class="col-md-2 control-label">STD</label>
                  <input type="number" class="form-control" id="STD" formControlName="STDCode"
                    [ngClass]="{ 'is-invalid': submitted && f.STDCode.errors }">
                  <div *ngIf="submitted && f.STDCode.errors" class="invalid-feedback">
                    <div *ngIf="f.STDCode.errors.required"> Please provide a valid STD Code.</div>
                  </div>
                </div>
              </div>
            </td>
          </tr>
          <tr>
          <tr>
            <td colspan="1">
              <div class="form-row">
                <div class="form-group col-md-2">
                  <label for="inputPaddress">Address</label>
                </div>
                <div class="form-group col-md-10">
                  <input type="text" class="form-control" id="P_Address1" placeholder="Address 1"
                    formControlName="P_Address1" [ngClass]="{'is-invalid': submitted && f.P_Address1.errors} ">
                  <div *ngIf="submitted && f.P_Address1.errors">
                    <div *ngIf="f.P_Address1.errors.required">CourseType is required</div>
                  </div>
                  <input type="text" class="form-control" id=" P_Address2" placeholder="Address 2"
                    formControlName="P_Address2" [ngClass]="{'is-invalid': submitted && f.P_Address2.errors} ">
                  <div *ngIf="submitted && f.P_Address2.errors">
                    <div *ngIf="f.P_Address2.errors.required">CourseType is required</div>
                  </div>
                </div>
              </div>
            </td>
          </tr>
          <tr>
            <td colspan="1">
              <div class="form-row">
                <div class="form-group col-md-4">
                  <label class="col-md-4 control-label">P_City</label>
                  <input type="text" class="form-control" id="P_City" formControlName="P_City"
                    [ngClass]="{'is-invalid': submitted && f.P_City.errors} ">
                  <div *ngIf="submitted && f.P_City.errors">
                    <div *ngIf="f.P_City.errors.required">CourseType is required</div>
                  </div>
                </div>

                <div class="form-group col-md-4">
                  <label class="col-md-4 control-label">P_State</label>
                  <select id="P_State" class="form-control" formControlName="P_State"
                    [ngClass]="{'is-invalid': submitted && f.P_State.errors} ">
                    <option selected>Select State...</option>
                    <option>Maharashtra</option>
                  </select>
                  <div *ngIf="submitted && f.P_State.errors">
                    <div *ngIf="f.P_State.errors.required">CourseType is required</div>
                  </div>
                </div>
                <div class="form-group col-md-4">
                  <label class="col-md-4 control-label">P_STDCode</label>
                  <input type="number" class="form-control" id="P_STDCode" formControlName="P_STDCode"
                    [ngClass]="{'is-invalid': submitted && f.P_STDCode.errors} ">
                  <div *ngIf="submitted && f.P_STDCode.errors">
                    <div *ngIf="f.P_STDCode.errors.required">CourseType is required</div>
                  </div>
                </div>

              </div>
            </td>
          </tr>
          <tr>
            <td colspan="1">
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label for="inputPaddress">P_ContactNo</label>
                </div>
                <div class="form-group col-md-6">
                  <input type="text" class="form-control" id="P_ContactNo" formControlName="P_ContactNo"
                    [ngClass]="{'is-invalid': submitted && f.P_ContactNo.errors} ">
                </div>
                <div *ngIf="submitted && f.P_ContactNo.errors">
                  <div *ngIf="f.P_ContactNo.errors.required">CourseType is required</div>
                </div>
              </div>
            </td>
          </tr>
          <tr>
            <td colspan="1">
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label class="col-md-6 control-label">CourseType</label>
                </div>
                <div class="form-group col-md-6">
                  <select id="CourseType" class="form-control" formControlName="CourseType"
                    (change)="selectCourse($event)" [ngClass]="{ 'is-invalid': submitted && f.CourseType.errors }">
                    <option *ngFor="let courseType of StaffListService.listCourseType"
                      [value]="courseType.CourseTypeId">
                      {{courseType.CourseTypeName}}
                    </option>
                  </select>
                </div>
                <div *ngIf="submitted && f.CourseType.errors">
                  <div *ngIf="f.CourseType.errors.required">CourseType is required</div>
                </div>
              </div>
            </td>
          </tr>
          <tr>
            <td colspan="1">
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label class="col-md-6 control-label">Courses</label>
                </div>
                <div class="form-group col-md-6">
                  <select id="Courses" class="form-control" formControlName="Courses"
                    (change)="selectCourseName($event)" [disabled]="disabled"
                    [ngClass]="{ 'is-invalid': submitted && f.Courses.errors }">
                    <option *ngFor="let courselist of StaffListService.listCourses" [value]="courselist.CourseName">
                      {{courselist.CourseName}}</option>
                  </select>
                </div>
                <div *ngIf="submitted && f.Courses.errors">
                  <div *ngIf="f.Courses.errors.required">Courses is required</div>
                </div>
              </div>
            </td>
          </tr>
          <tr>
            <td colspan="1">
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label for="Photo">Photo</label>
                </div>
                <div class="form-group col-md-6">
                  <input type="text" class="form-control" id="Photo" formControlName="Photo"
                    [ngClass]="{'is-invalid': submitted && f.Photo.errors} ">
                  <!-- <input type="file" class="custom-file-input" value="img.jpg" formControlName="Photo"  id="Photo">
                      <label class="custom-file-label" for="customFile">Choose file</label> -->
                </div>
                <div *ngIf="submitted && f.Photo.errors">
                  <div *ngIf="f.Photo.errors.required">Photo is required</div>
                </div>
              </div>
            </td>
          </tr>
          <tr>
            <td colspan="1">
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label class="col-md-6 control-label">Email</label>
                </div>
                <div class="form-group col-md-6">
                  <input type="email" class="form-control" id="Email" formControlName="Email"
                    [ngClass]="{'is-invalid': submitted && f.Email.errors} ">
                </div>
                <div *ngIf="submitted && f.Email.errors">
                  <div *ngIf="f.Email.errors.required">Email is required</div>
                </div>
              </div>
            </td>
          </tr>
          <tr>
            <td colspan="1">
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label class="col-md-6 control-label">PreviousWorkName</label>
                </div>
                <div class="form-group col-md-6">
                  <input type="text" class="form-control" id="PreviousWorkName" formControlName="PreviousWorkName">
                </div>
              </div>
            </td>
          </tr>
          <tr>
            <td colspan="1">
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label class="col-md-6 control-label">PreviousExperience</label>
                </div>
                <div class="form-group col-md-6">
                  <input type="number" class="form-control" id="PreviousExperience"
                    formControlName="PreviousExperience">
                </div>
              </div>
            </td>
          </tr>
          <tr>
            <td colspan="1">
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label class="col-md-6 control-label">DateOfLeaving</label>
                </div>
                <div class="form-group col-md-6">
                  <input type="date" class="form-control" id="DateOfLeaving" formControlName="DateOfLeaving">
                </div>
              </div>
            </td>
          </tr>
          <tr>
            <td colspan="1">
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label class="col-md-6 control-label">LeavingReason</label>
                </div>
                <div class="form-group col-md-6">
                  <input type="text" class="form-control" id="LeavingReason" formControlName="LeavingReason">
                </div>
              </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" type="submit" id="submit" class="btn btn-primary">Save</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="modalRef.hide()">Close</button>
      </div>
    </form>
  </div>
</ng-template>
<ng-template #ShowCourses>
  <div data-keyboard="false" data-backdrop="static" aria-hidden="true">
    <div class="modal-header">
      <h4 class="modal-title pull-left">Course List</h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <!-- <form [formGroup]="ShowCoursesForm" (ngSubmit)="onSubmit()" > -->
      <table class="table table-striped">
        <thead>
          <th>No</th>
          <th>CourseType</th>
          <th>CounrseName</th>
        </thead>
        <tbody>
          <tr *ngFor="let c of StaffListService.listTeacherCourse; let i = index">
            <td>{{i+1}}</td>
            <td>{{c.CourseType}}</td>
            <td>{{c.Courses}}</td>
          </tr>
        </tbody>
      </table>
      <!-- </form> -->
      <div class="modal-footer">
        <!-- <button type="button" class="btn btn-primary" type="submit" id="submit" (click)="Save()">Save</button> -->
        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="modalRef.hide()">Close</button>
      </div>
    </div>
  </div>
</ng-template>


