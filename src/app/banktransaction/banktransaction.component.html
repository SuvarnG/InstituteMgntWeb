<div class="container">
  <h2>Bank Transaction
    <button type="submit" class="btn btn-primary" style="margin-left:800px" (click)="openModal(template)">Add</button>
  </h2>
  <table class="table table-bordered">
    <thead>
      <tr>

        <th>Bank Name</th>
        <th>Account Number</th>
        <th>Transaction Type</th>
        <th>Amount</th>
        <th>Transaction By</th>
        <th>Transaction Date</th>
        <th></th>


      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let bt of banktransactions">

        <td>{{bt.BankName}}</td>
        <td>{{bt.AccountNo}}</td>
        <td>{{bt.TransactionType}}</td>
        <td>{{bt.Amount}}</td>
        <td>{{bt.ByWhom}}</td>
        <td>{{bt.Date}}</td>
        <!-- <td>{{bt.TransactionBy}}</td> -->

        <td>
          <button type="submit" style="margin-right:5px" class="btn btn-primary"
            (click)="openModal1(template1)">Edit</button>
        </td>

      </tr>
    </tbody>
  </table>
</div>


<ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Bank Transaction</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <!-- <form class="form-horizontal"> -->


    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">

      <div class="form-group">
        <label for="bank name">Bank Name</label>
        <select id="bank name" class="form-control" formControlName="BankName" [ngClass]="{ 'is-invalid': submitted &&
                  f.BankName.errors }">
          <div *ngIf="submitted && f.BankName.errors" class="invalid-feedback">
            <div *ngIf="f.BankName.errors.required">Please Enter Bank Name</div>
          </div>
          <option selected>Select Bank Name</option>

        </select></div>



      <div class="form-group">
        <label for="Account Number">Account Number</label>
        <select id="Account Number" class="form-control" formControlName="AccountNo" [ngClass]="{ 'is-invalid': submitted &&
                    f.AccountNo.errors }">
          <div *ngIf="submitted && f.AccountNo.errors" class="invalid-feedback">
            <div *ngIf="f.AccountNo.errors.required">Please Enter Account Number</div>
          </div>
          <option selected>Select Account Number</option>
          <option></option>
          <option></option>
          <option></option>
        </select></div>


      <div class="radio">
        <label class="control-label-col-sm-2">Transaction Type : </label><br>
        <label><input type="radio" name="optradio" checked>Current Account</label>
      </div>
      <div class="radio">
        <label><input type="radio" name="optradio">Saving Account</label>
      </div>

      <div class="form-group">
        <label for="Amount" class="control-label-col-sm-2">Amount : </label>
        <input type="text" class="form-control" formControlName="Amount" [ngClass]="{ 'is-invalid': submitted &&
          f.Amount.errors }">
        <div *ngIf="submitted && f.Amount.errors" class="invalid-feedback">
          <div *ngIf="f.Amount.errors.required">Please Enter Amount</div>
        </div>
      </div>

      <div class="form-group">
        <label for="ByWhom">Transaction By</label>
        <select name="" id="" class="form-control">
          <option *ngFor="let staff of staffMasters" [value]="staff.TeacherId">
            <!-- {{staff.First_Name+' '+staff.Middle_Name|''+' '+staff.Last_Name}} -->
            <span>{{staff.First_Name+' '}}</span> <span>{{ staff.Midde_Name}}</span> <span>{{' '+ staff.Last_Name}}</span>
          </option>
        </select>

        <div *ngIf="submitted && f.ByWhom.errors" class="invalid-feedback">
          <div *ngIf="f.ByWhom.errors.required">Please Enter Name</div>
        </div>


        



      </div>


      <div class="form-group">
        <label for="Date" class="control-label-col-sm-2">TransactionDate : </label>
        <input type="Date" class="form-control" formControlName="Date" [ngClass]="{ 'is-invalid': submitted &&
                f.Date.errors }">
        <div *ngIf="submitted && f.Date.errors" class="invalid-feedback">
          <div *ngIf="f.Date.errors.required">Please Enter Date</div>
        </div>
      </div>



      <div class="form-group">
        <button class="btn btn-primary" (click)="Submit()">Save</button>
      </div>
    </form>
  </div>
</ng-template>






<ng-template #template1>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Bank Transaction</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <!-- <form class="form-horizontal"> -->


    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">

      <div class="form-group">
        <label for="Amount" class="control-label-col-sm-2">Amount : </label>
        <input type="text" class="form-control" formControlName="Amount" [ngClass]="{ 'is-invalid': submitted &&
                            f.Amount.errors }">
        <div *ngIf="submitted && f.Amount.errors" class="invalid-feedback">
          <div *ngIf="f.Amount.errors.required">Please Enter Amount</div>
        </div>
      </div>

      <div class="form-group">
        <label for="ByWhom">Transaction By</label>
        <select name="ByWhom" id="ByWhom" class="form-control" formControlName="ByWhom" [ngClass]="{ 'is-invalid': submitted &&
                                f.ByWhom.errors }">
          <!-- <option selected>Select Transaction By Whom</option> -->
          <option *ngFor="let staff of BanktransactionService.listStaff" [value]="staff.StaffId">
            {{staff.FirstName+' '+staff.MiddleName+' '+staff.LastName}}
          </option>
        </select>

        <div *ngIf="submitted && f.ByWhom.errors" class="invalid-feedback">
          <div *ngIf="f.ByWhom.errors.required">Please Enter Name</div>
        </div>
      </div>


      <div class="form-group">
        <label for="TransactionDate" class="control-label-col-sm-2">TransactionDate : </label>
        <input type="date" class="form-control" formControlName="TransactionDate" [ngClass]="{ 'is-invalid': submitted &&
                                  f.TransactionDate.errors }">
        <div *ngIf="submitted && f.TransactionDate.errors" class="invalid-feedback">
          <div *ngIf="f.TransactionDate.errors.required">Please Enter Date</div>
        </div>
      </div>
      <div class="form-group">
        <button class="btn btn-primary">Save</button>
      </div>

    </form>
  </div>
</ng-template>